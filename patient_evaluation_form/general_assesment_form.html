
<div class="container py-4">

<form action="#" method="post" id="generalAssessmentForm" novalidate>

    <fieldset class="expanded mt-0">
        <legend>General Assessment Form</legend>

        <div class="mb-2">
            <label for="GA_B1_Name" class="form-label">Name:</label>
            <input type="text" id="GA_B1_Name" name="GA_B1_Name" class="form-control form-control-sm" placeholder="B1 details...">
        </div>

        <div class="mb-2">
            <label for="GA_B2_Sex" class="form-label">Sex:</label>
            <input type="text" id="GA_B2_Sex" name="GA_B2_Sex" class="form-control form-control-sm" placeholder="B2 details...">
        </div>

        <div class="mb-2">
            <label for="GA_B3_Age" class="form-label">Age:</label>
            <input type="text" id="GA_B3_Age" name="GA_B3_Age" class="form-control form-control-sm" placeholder="B3 details...">
        </div>

        <div class="mb-2">
            <label for="GA_B5_TreatingClinician" class="form-label">Treating Clinician:</label>
            <input type="text" id="GA_B5_TreatingClinician" name="GA_B5_TreatingClinician" class="form-control form-control-sm" placeholder="B5 details...">
        </div>
        
        <p class="fw-bold mb-1">Vital Sign</p>
        
    </fieldset>

    <fieldset class="mt-4">
        <legend>Additional Assessment Details</legend>

        <p class="fw-bold mb-1">Physical Examination</p>
        <div class="mb-2">
            <label for="GA2_B2_Observation" class="form-label">Observation (B2):</label>
            <input type="text" id="GA2_B2_Observation" name="GA2_B2_Observation" class="form-control form-control-sm" placeholder="B2 details...">
        </div>
        <div class="mb-2">
            <label for="GA2_B3_Palpation" class="form-label">Palpation (B3):</label>
            <input type="text" id="GA2_B3_Palpation" name="GA2_B3_Palpation" class="form-control form-control-sm" placeholder="B3 details...">
        </div>
        <div class="mb-2">
            <label for="GA2_B4_MuscleTone" class="form-label">Muscle tone (B4):</label>
            <input type="text" id="GA2_B4_MuscleTone" name="GA2_B4_MuscleTone" class="form-control form-control-sm" placeholder="B4 details...">
        </div>
        <div class="mb-2">
            <label for="GA2_B5_MusclePower" class="form-label">Muscle power (B5):</label>
            <input type="text" id="GA2_B5_MusclePower" name="GA2_B5_MusclePower" class="form-control form-control-sm" placeholder="B5 details...">
        </div>
        <div class="mb-2">
            <label for="GA2_B6_Reflex" class="form-label">Reflex (B6):</label>
            <input type="text" id="GA2_B6_Reflex" name="GA2_B6_Reflex" class="form-control form-control-sm" placeholder="B6 details...">
        </div>
        
        <div class="mb-2">
            <label for="GA2_B7_SpecialTests" class="form-label">Special Tests (B7):</label>
            <input type="text" id="GA2_B7_SpecialTests" name="GA2_B7_SpecialTests" class="form-control form-control-sm" placeholder="B7 details...">
        </div>
        
        <div class="mb-2">
            <label for="GA2_B8_PtDiagnosis" class="form-label">Pt Diagnosis (B8):</label>
            <input type="text" id="GA2_B8_PtDiagnosis" name="GA2_B8_PtDiagnosis" class="form-control form-control-sm" placeholder="B8 details...">
        </div>
        
        <p class="fw-bold mb-1">Goal</p>
        <div class="mb-2">
            <label for="GA2_B9_GoalShort" class="form-label">Short (B9):</label>
            <input type="text" id="GA2_B9_GoalShort" name="GA2_B9_GoalShort" class="form-control form-control-sm" placeholder="B9 details...">
        </div>
        <div class="mb-2">
            <label for="GA2_B10_GoalLong" class="form-label">Long (B10):</label>
            <input type="text" id="GA2_B10_GoalLong" name="GA2_B10_GoalLong" class="form-control form-control-sm" placeholder="B10 details...">
        </div>
        
        <div class="mb-2">
            <label for="GA2_B11_Plan" class="form-label">Plan (B11):</label>
            <input type="text" id="GA2_B11_Plan" name="GA2_B11_Plan" class="form-control form-control-sm" placeholder="B11 details...">
        </div>
    </fieldset>

    <div id="generalAssessmentForm-message" class="mt-3"></div>
    <div class="form-group mt-3">
        <button type="submit" class="btn btn-success">Submit Data</button>
        <button type="reset" class="btn btn-danger">Reset</button>
    </div>

</form>

<script>
    // Toggle each fieldset on legend click
    document.querySelectorAll("fieldset").forEach((fieldset) => {
        const legend = fieldset.querySelector("legend");
        if (!legend) return;

        legend.setAttribute("role", "button");
        legend.setAttribute("tabindex", "0");
        legend.setAttribute("aria-expanded", fieldset.classList.contains("expanded"));

        legend.addEventListener("click", () => {
            fieldset.classList.toggle("expanded");
            const isExpanded = fieldset.classList.contains("expanded");
            legend.setAttribute("aria-expanded", isExpanded);
        });

        legend.addEventListener("keydown", (event) => {
            if (event.target === legend && (event.key === "Enter" || event.key === " ")) {
                event.preventDefault(); 
                legend.click(); 
            }
        });
    });
</script>
<script src="../js/form_handler.js"></script>
<script>
  document.addEventListener('DOMContentLoaded', function() {
    initFormSubmissionHandler('generalAssessmentForm', 'generalAssessmentForm-message');
  });
</script>
</div>
