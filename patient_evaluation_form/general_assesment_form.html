<div class="container py-4">
<form action="#" id="generalAssessmentForm" method="post" novalidate="">
<fieldset class="expanded mt-0">
<legend>General Assessment Form</legend>
<div class="mb-2">
<label class="form-label" for="General Assessment Form Name">Name:</label>
<input class="form-control form-control-sm" id="General Assessment Form Name" name="General Assessment Form Name" placeholder="B1 details..." type="text"/>
</div>
<div class="mb-2">
<label class="form-label" for="General Assessment Form Sex">Sex:</label>
<input class="form-control form-control-sm" id="General Assessment Form Sex" name="General Assessment Form Sex" placeholder="B2 details..." type="text"/>
</div>
<div class="mb-2">
<label class="form-label" for="General Assessment Form Age">Age:</label>
<input class="form-control form-control-sm" id="General Assessment Form Age" name="General Assessment Form Age" placeholder="B3 details..." type="text"/>
</div>
<div class="mb-2">
<label class="form-label" for="General Assessment Form Treating Clinician">Treating Clinician:</label>
<input class="form-control form-control-sm" id="General Assessment Form Treating Clinician" name="General Assessment Form Treating Clinician" placeholder="B5 details..." type="text"/>
</div>
<p class="fw-bold mb-1">Vital Sign</p>
</fieldset>
<fieldset class="mt-4">
<legend>Additional Assessment Details</legend>
<p class="fw-bold mb-1">Physical Examination</p>
<div class="mb-2">
<label class="form-label" for="Additional Assessment Details Physical Examination Observation (B2)">Observation (B2):</label>
<input class="form-control form-control-sm" id="Additional Assessment Details Physical Examination Observation (B2)" name="Additional Assessment Details Physical Examination Observation (B2)" placeholder="B2 details..." type="text"/>
</div>
<div class="mb-2">
<label class="form-label" for="Additional Assessment Details Physical Examination Palpation (B3)">Palpation (B3):</label>
<input class="form-control form-control-sm" id="Additional Assessment Details Physical Examination Palpation (B3)" name="Additional Assessment Details Physical Examination Palpation (B3)" placeholder="B3 details..." type="text"/>
</div>
<div class="mb-2">
<label class="form-label" for="Additional Assessment Details Physical Examination Muscle tone (B4)">Muscle tone (B4):</label>
<input class="form-control form-control-sm" id="Additional Assessment Details Physical Examination Muscle tone (B4)" name="Additional Assessment Details Physical Examination Muscle tone (B4)" placeholder="B4 details..." type="text"/>
</div>
<div class="mb-2">
<label class="form-label" for="Additional Assessment Details Physical Examination Muscle power (B5)">Muscle power (B5):</label>
<input class="form-control form-control-sm" id="Additional Assessment Details Physical Examination Muscle power (B5)" name="Additional Assessment Details Physical Examination Muscle power (B5)" placeholder="B5 details..." type="text"/>
</div>
<div class="mb-2">
<label class="form-label" for="Additional Assessment Details Physical Examination Reflex (B6)">Reflex (B6):</label>
<input class="form-control form-control-sm" id="Additional Assessment Details Physical Examination Reflex (B6)" name="Additional Assessment Details Physical Examination Reflex (B6)" placeholder="B6 details..." type="text"/>
</div>
<div class="mb-2">
<label class="form-label" for="Additional Assessment Details Physical Examination Special Tests (B7)">Special Tests (B7):</label>
<input class="form-control form-control-sm" id="Additional Assessment Details Physical Examination Special Tests (B7)" name="Additional Assessment Details Physical Examination Special Tests (B7)" placeholder="B7 details..." type="text"/>
</div>
<div class="mb-2">
<label class="form-label" for="Additional Assessment Details Physical Examination Pt Diagnosis (B8)">Pt Diagnosis (B8):</label>
<input class="form-control form-control-sm" id="Additional Assessment Details Physical Examination Pt Diagnosis (B8)" name="Additional Assessment Details Physical Examination Pt Diagnosis (B8)" placeholder="B8 details..." type="text"/>
</div>
<p class="fw-bold mb-1">Goal</p>
<div class="mb-2">
<label class="form-label" for="Additional Assessment Details Goal Short (B9)">Short (B9):</label>
<input class="form-control form-control-sm" id="Additional Assessment Details Goal Short (B9)" name="Additional Assessment Details Goal Short (B9)" placeholder="B9 details..." type="text"/>
</div>
<div class="mb-2">
<label class="form-label" for="Additional Assessment Details Goal Long (B10)">Long (B10):</label>
<input class="form-control form-control-sm" id="Additional Assessment Details Goal Long (B10)" name="Additional Assessment Details Goal Long (B10)" placeholder="B10 details..." type="text"/>
</div>
<div class="mb-2">
<label class="form-label" for="Additional Assessment Details Goal Plan (B11)">Plan (B11):</label>
<input class="form-control form-control-sm" id="Additional Assessment Details Goal Plan (B11)" name="Additional Assessment Details Goal Plan (B11)" placeholder="B11 details..." type="text"/>
</div>
</fieldset>
<div class="mt-3" id="generalAssessmentForm-message"></div>
<div class="form-group mt-3">
<button class="btn btn-success" type="submit">Submit Data</button>
<button class="btn btn-danger" type="reset">Reset</button>
</div>
</form>
<script>
    // Toggle each fieldset on legend click
    document.querySelectorAll("fieldset").forEach((fieldset) => {
        const legend = fieldset.querySelector("legend");
        if (!legend) return;

        legend.setAttribute("role", "button");
        legend.setAttribute("tabindex", "0");
        legend.setAttribute("aria-expanded", fieldset.classList.contains("expanded"));

        legend.addEventListener("click", () => {
            fieldset.classList.toggle("expanded");
            const isExpanded = fieldset.classList.contains("expanded");
            legend.setAttribute("aria-expanded", isExpanded);
        });

        legend.addEventListener("keydown", (event) => {
            if (event.target === legend && (event.key === "Enter" || event.key === " ")) {
                event.preventDefault(); 
                legend.click(); 
            }
        });
    });
</script>
<script src="../js/form_handler.js"></script>
<script>
  document.addEventListener('DOMContentLoaded', function() {
    initFormSubmissionHandler('generalAssessmentForm', 'generalAssessmentForm-message');
  });
</script>
</div>
